(function(){var A=Ext.lib.Ajax;A.Queue=function(config){config=config?(config.name?config:{name:config}):{};Ext.apply(this,config,{name:"q-default",priority:5,FIFO:true,callback:null,scope:null,suspended:false,progressive:false});this.requests=[];this.pending=false;this.priority=this.priority>9?9:(this.priority<0?0:this.priority);};Ext.extend(A.Queue,Object,{add:function(req){var permit=A.events?A.fireEvent("beforequeue",this,req):true;if(permit!==false){this.requests.push(req);this.pending=true;A.pendingRequests++;if(this.manager){this.manager.start();}}},suspended:false,activeRequest:null,next:function(){var req=this.requests[this.FIFO?"shift":"pop"]();this.pending=!!this.requests.length;return req;},clear:function(){this.requests.length=0;this.pending=false;if(A.events){A.fireEvent("queueempty",this);}},suspend:function(){this.suspended=true;},resume:function(){this.suspended=false;},requestNext:function(){var req;this.activeRequest=null;if(!this.suspended&&(req=this.next())){A.pendingRequests--;this.activeRequest=req.active?A.request.apply(A,req):null;if(this.requests.length==0){if(this.callback){this.callback.call(this.scope||null,this);}this.clear();}}return this.activeRequest;}});A.QueueManager=function(config){Ext.apply(this,config||{},{quantas:10,priorityQueues:[[],[],[],[],[],[],[],[],[],[]],queues:{}});};Ext.extend(A.QueueManager,Object,{getQueue:function(name){return this.queues[name];},createQueue:function(config){if(!config){return null;}var q=new A.Queue(config);q.manager=this;this.queues[q.name]=q;var pqa=this.priorityQueues[q.priority];if(pqa&&pqa.indexOf(q.name)==-1){pqa.push(q.name);}return q;},removeQueue:function(q){if(q&&(q=this.getQueue(q.name||q))){q.suspend();q.clear();this.priorityQueues[q.priority].remove(q);delete this.queues[q.name];}},start:function(){if(!this.started){this.started=true;this.dispatch();}},suspendAll:function(){forEach(this.queues,function(Q){Q.suspend();});},resumeAll:function(){forEach(this.queues,function(Q){Q.resume();});this.start();},progressive:false,stop:function(){this.started=false;},dispatch:function(){var qm=this,qmq=qm.queues;var disp=function(qName){var q=qmq[qName];if(q&&!q.suspended){while(q.pending&&!q.suspended&&A.pendingRequests&&A.activeRequests<A.maxConcurrentRequests){q.requestNext();if(q.progressive||qm.progressive){break;}}return !!A.pendingRequests?(A.activeRequests<A.maxConcurrentRequests):false;}};Ext.each(this.priorityQueues,function(queues){if(!A.pendingRequests){return false;}return Ext.each(queues||[],disp,this)===undefined?true:false;},this);!!A.pendingRequests?this.dispatch.defer(this.quantas,this):this.stop();}});Ext.apply(A,{queueManager:new A.QueueManager(),queueAll:false,activeRequests:0,pendingRequests:0,maxConcurrentRequests:10,forceActiveX:false,async:true,createXhrObject:function(transactionId){var obj={status:{isError:false},tId:transactionId},http;try{if(Ext.isIE7&&!!this.forceActiveX){throw ("IE7forceActiveX");}obj.conn=new XMLHttpRequest();}catch(eo){for(var i=0;i<this.activeX.length;++i){try{obj.conn=new ActiveXObject(this.activeX[i]);break;}catch(e){}}}finally{obj.status.isError=typeof (obj.conn)=="undefined";}return obj;},encoder:encodeURIComponent,serializeForm:function(form){if(typeof form=="string"){form=(document.getElementById(form)||document.forms[form]);}var el,name,val,disabled,data="",hasSubmit=false;for(var i=0;i<form.elements.length;i++){el=form.elements[i];disabled=form.elements[i].disabled;name=form.elements[i].name;val=form.elements[i].value;if(!disabled&&name){switch(el.type){case"select-one":case"select-multiple":for(var j=0;j<el.options.length;j++){if(el.options[j].selected){if(Ext.isIE){data+=this.encoder(name)+"="+this.encoder(el.options[j].attributes["value"].specified?el.options[j].value:el.options[j].text)+"&";}else{data+=this.encoder(name)+"="+this.encoder(el.options[j].hasAttribute("value")?el.options[j].value:el.options[j].text)+"&";}}}break;case"radio":case"checkbox":if(el.checked){data+=this.encoder(name)+"="+this.encoder(val)+"&";}break;case"file":case undefined:case"reset":case"button":break;case"submit":if(hasSubmit===false){data+=this.encoder(name)+"="+this.encoder(val)+"&";hasSubmit=true;}break;default:data+=this.encoder(name)+"="+this.encoder(val)+"&";break;}}}data=data.substr(0,data.length-1);return data;},getHttpStatus:function(reqObj){var statObj={status:0,statusText:"",isError:false,isLocal:false,isOK:false,error:null,isAbort:false,isTimeout:false};try{if(!reqObj){throw ("noobj");}statObj.status=reqObj.status;statObj.readyState=reqObj.readyState;statObj.isLocal=(!reqObj.status&&location.protocol=="file:")||(Ext.isSafari&&reqObj.status===undefined);statObj.isOK=(statObj.isLocal||(statObj.status==304||statObj.status==1223||(statObj.status>199&&statObj.status<300)));statObj.statusText=reqObj.statusText||"";}catch(e){}return statObj;},handleTransactionResponse:function(o,callback,isAbort){callback=callback||{};var responseObject=null;this.activeRequests--;if(!o.status.isError){o.status=this.getHttpStatus(o.conn);responseObject=this.createResponseObject(o,callback.argument,isAbort);}if(o.status.isError){responseObject=Ext.apply({},responseObject||{},this.createExceptionObject(o.tId,callback.argument,(isAbort?isAbort:false)));}responseObject.options=o.options;responseObject.fullStatus=o.status;if(!this.events||this.fireEvent("status:"+o.status.status,o.status.status,o,responseObject,callback,isAbort)!==false){if(o.status.isOK&&!o.status.isError){if(!this.events||this.fireEvent("response",o,responseObject,callback,isAbort)!==false){if(callback.success){callback.success.call(callback.scope||null,responseObject);}}}else{if(!this.events||this.fireEvent("exception",o,responseObject,callback,isAbort)!==false){if(callback.failure){callback.failure.call(callback.scope||null,responseObject);}}}}if(o.options.async){this.releaseObject(o);responseObject=null;}else{this.releaseObject(o);return responseObject;}},createResponseObject:function(o,callbackArg,isAbort){var obj={responseXML:null,responseText:"",responseStream:null,getResponseHeader:{},getAllResponseHeaders:""};var headerObj={},headerStr="";if(isAbort!==true){try{obj.responseText=o.conn.responseText;obj.responseStream=o.conn.responseStream||null;}catch(e){o.status.isError=true;o.status.error=e;}try{obj.responseXML=o.conn.responseXML||null;}catch(ex){}try{headerStr=o.conn.getAllResponseHeaders()||"";}catch(ex1){}if((o.status.isLocal||o.proxied)&&typeof obj.responseText=="string"){o.status.isOK=!o.status.isError&&((o.status.status=(!!obj.responseText.length)?200:404)==200);if(o.status.isOK&&(!obj.responseXML||(obj.responseXML&&obj.responseXML.childNodes.length===0))){var xdoc=null;try{if(window.ActiveXObject){xdoc=new ActiveXObject("MSXML2.DOMDocument.3.0");xdoc.async=false;xdoc.loadXML(obj.responseText);}else{var domParser=null;try{domParser=new DOMParser();xdoc=domParser.parseFromString(obj.responseText,"application/xml");}catch(exP){}finally{domParser=null;}}}catch(exd){o.status.isError=true;o.status.error=exd;}obj.responseXML=xdoc;}if(obj.responseXML){var parseBad=(obj.responseXML.documentElement&&obj.responseXML.documentElement.nodeName=="parsererror")||(obj.responseXML.parseError||0)!==0||obj.responseXML.childNodes.length===0;if(!parseBad){headerStr="Content-Type: "+(obj.responseXML.contentType||"text/xml")+"\n"+headerStr;}}}}var header=headerStr.split("\n");for(var i=0;i<header.length;i++){var delimitPos=header[i].indexOf(":");if(delimitPos!=-1){headerObj[header[i].substring(0,delimitPos)]=header[i].substring(delimitPos+2);}}o.status.proxied=!!o.proxied;Ext.apply(obj,{tId:o.tId,status:o.status.status,statusText:o.status.statusText,getResponseHeader:headerObj,getAllResponseHeaders:headerStr,fullStatus:o.status});if(typeof callbackArg!="undefined"){obj.argument=callbackArg;}return obj;},setDefaultPostHeader:function(contentType){this.defaultPostHeader=contentType;},setDefaultXhrHeader:function(bool){this.useDefaultXhrHeader=bool||false;},request:function(method,uri,cb,data,options){options=Ext.apply({async:this.async||false,headers:false,userId:null,password:null,xmlData:null,jsonData:null,queue:null,proxied:false},options||{});if(!this.events||this.fireEvent("request",method,uri,cb,data,options)!==false){if((options.queue||(options.queue=this.queueAll||null))&&!options.queued){var q=options.queue,qname=q.name||"default",qm=this.queueManager;q=qm.getQueue(qname)||qm.createQueue(q);options.queue=q;options.queued=true;var req=[method,uri,cb,data,options];req.active=true;q.add(req);return{tId:this.transactionId++,queued:true,request:req,options:options};}var hs=options.headers;if(hs){for(var h in hs){if(hs.hasOwnProperty(h)){this.initHeader(h,hs[h],false);}}}var cType=this.headers["Content-Type"]||null;delete this.headers["Content-Type"];if(options.xmlData){cType||(cType="text/xml");method="POST";data=options.xmlData;}else{if(options.jsonData){cType||(cType="application/json");method="POST";data=typeof options.jsonData=="object"?Ext.encode(options.jsonData):options.jsonData;}}if(data){cType||(cType=this.useDefaultHeader?this.defaultPostHeader:null);if(cType){this.initHeader("Content-Type",cType,false);}}return this.makeRequest(options.method||method,uri,cb,data,options);}return null;},getConnectionObject:function(uri,options){var o,f,e=Ext.emptyFn;var tId=this.transactionId;try{if(f=options.proxied){o={tId:tId,status:{},proxied:true,conn:{el:null,send:function(){var doc=(f.target||window).document,head=doc.getElementsByTagName("head")[0];if(head&&this.el){head.appendChild(this.el);}},abort:function(){this.readyState=0;},setRequestHeader:e,getAllResponseHeaders:e,onreadystatechange:null,readyState:0,status:0,responseText:null,responseXML:null},debug:f.debug,cbName:f.callbackName||"basexCallback"+tId,cbParam:f.callbackParam||null};window[o.cbName]=o.cb=function(content,request){this.responseText=!!content?content:null;this.readyState=4;this.status=!!content?200:404;if(typeof this.onreadystatechange=="function"){this.onreadystatechange();}if(!request.debug){Ext.removeNode(this.el);this.el=null;}window[request.cbName]=undefined;try{delete window[request.cbName];}catch(ex){}}.createDelegate(o.conn,[o],true);o.conn.open=function(){this.el=domNode(f.tag||"script",{type:"text/javascript",src:o.cbParam?uri+(uri.indexOf("?")!=-1?"&":"?")+String.format("{0}={1}",o.cbParam,o.cbName):uri},null,f.target,true);};o.conn.readyState=1;if(typeof o.conn.onreadystatechange=="function"){o.conn.onreadystatechange();}options.async=true;}else{o=this.createXhrObject(tId);}if(o){this.transactionId++;}}catch(ex3){}finally{return o;}},makeRequest:function(method,uri,callback,postData,options){var o=this.getConnectionObject(uri,options);if(!o||o.status.isError){return Ext.apply(o,this.handleTransactionResponse(o,callback));}else{o.options=options;try{o.conn.open(method.toUpperCase(),uri,options.async,options.userId,options.password);o.conn.onreadystatechange=this.onReadyState?this.onReadyState.createDelegate(this,[o],0):Ext.emptyFn;}catch(ex){o.status.isError=true;o.status.error=ex;return Ext.apply(o,this.handleTransactionResponse(o,callback));}this.activeRequests++;if(this.useDefaultXhrHeader){if(!this.defaultHeaders["X-Requested-With"]){this.initHeader("X-Requested-With",this.defaultXhrHeader,true);}}if(this.hasDefaultHeaders||this.hasHeaders){this.setHeader(o);}if(o.options.async){this.handleReadyState(o,callback);}try{if(!this.events||this.fireEvent("beforesend",o,method,uri,callback,postData,options)!==false){o.conn.send(postData||null);}}catch(exr){o.status.isError=true;o.status.error=exr;return Ext.apply(o,this.handleTransactionResponse(o,callback));}return options.async?o:Ext.apply(o,this.handleTransactionResponse(o,callback));}},abort:function(o,callback,isTimeout){if(o&&o.queued&&o.request){o.request.active=o.queued=false;if(this.events){this.fireEvent("abort",o,callback);}}else{if(o&&this.isCallInProgress(o)){o.conn.abort();window.clearInterval(this.poll[o.tId]);delete this.poll[o.tId];if(isTimeout){delete this.timeout[o.tId];}o.status.isAbort=!(o.status.isTimeout=isTimeout||false);if(this.events){this.fireEvent(isTimeout?"timeout":"abort",o,callback);}this.handleTransactionResponse(o,callback,true);return true;}else{return false;}}},clearAuthenticationCache:function(url){try{if(Ext.isIE){document.execCommand("ClearAuthenticationCache");}else{var xmlhttp;if(xmlhttp=new XMLHttpRequest()){xmlhttp.open("GET",url||"/@@",true,"logout","logout");xmlhttp.send("");xmlhttp.abort.defer(100,xmlhttp);}}}catch(e){}}});var domNode=function(tag,attributes,callback,context,deferred){attributes=Ext.apply({},attributes||{});context||(context=window);var node=null,doc=context.document,head=doc.getElementsByTagName("head")[0];if(doc&&head&&(node=doc.createElement(tag))){for(var attrib in attributes){if(attributes.hasOwnProperty(attrib)&&attrib in node){node.setAttribute(attrib,attributes[attrib]);}}if(callback){var cb=(callback.success||callback).createDelegate(callback.scope||null,[callback],0);if(Ext.isIE){node.onreadystatechange=function(){if(/loaded|complete|4/i.test(String(this.readyState))){cb();}}.createDelegate(node);}else{if(Ext.isSafari3&&tag=="script"){node.addEventListener("load",cb);}else{if(Ext.isSafari){cb.defer(50);}else{tag!=="link"||Ext.isOpera?Ext.get(node).on("load",cb):cb.defer(50);}}}}if(!deferred){head.appendChild(node);}}return node;};if(Ext.util.Observable){Ext.apply(A,{events:{request:true,beforesend:true,response:true,exception:true,abort:true,timeout:true,readystatechange:true,beforequeue:true,queue:true,queueempty:true},onStatus:function(status,fn,scope,options){var args=Array.prototype.slice.call(arguments,1);status=[].concat(status||[]);Ext.each(status,function(statusCode){statusCode=parseInt(statusCode,10);if(!isNaN(statusCode)){var ev="status:"+statusCode;this.events[ev]||(this.events[ev]=true);this.on.apply(this,[ev].concat(args));}},this);},unStatus:function(status,fn,scope,options){var args=Array.prototype.slice.call(arguments,1);status=[].concat(status||[]);Ext.each(status,function(statusCode){statusCode=parseInt(statusCode,10);if(!isNaN(statusCode)){var ev="status:"+statusCode;this.un.apply(this,[ev].concat(args));}},this);},onReadyState:function(){this.fireEvent.apply(this,["readystatechange"].concat(Array.prototype.slice.call(arguments,0)));}},new Ext.util.Observable());Ext.hasBasex=true;Ext.ux.ModuleManager=function(config){Ext.apply(this,config||{},{modulePath:function(){var d=location.href.indexOf("/")!=-1?"/":"\\";var u=location.href.split(d);u.pop();return u.join(d)+d;}()});this.addEvents({"loadexception":true,"alreadyloaded":true,"load":true,"beforeload":true,"complete":true});Ext.ux.ModuleManager.superclass.constructor.call(this);};var gather=function(method,url,callbacks,data,options){if(method=="SCRIPT"){return Ext.apply(Ext.get(domNode("script",{type:"text/javascript",src:url},callbacks,options.target||window)),{options:options});}else{if(method=="LINK"){return Ext.apply(Ext.get(domNode("link",{rel:"stylesheet",type:"text/css",href:url},callbacks,options.target||window)),{options:options});}else{return A.request(method,url,callbacks,data,options);}}};var modulate=function(moduleName,options){var name=String(moduleName).trim().split("/").last(),fname=(name.indexOf(".")!==-1?moduleName:moduleName+".js"),path=options&&options.modulePath?String(options.modulePath):"";return{name:name,fullName:fname,extension:fname.split(".").last().trim().toLowerCase(),path:path,url:path+fname};};Ext.extend(Ext.ux.ModuleManager,Ext.util.Observable,{disableCaching:false,modules:{},method:"GET",noExecute:false,asynchronous:true,cacheResponses:false,loadStack:[],loaded:function(name){var module;return(module=this.getModule(name))&&module.loaded===true;},getModule:function(name){return this.modules[name]||false;},provides:function(){Array.prototype.forEach.call(arguments,function(module){var moduleObj=modulate(module),m;m=this.modules[moduleObj.name]||(this.modules[moduleObj.name]=Ext.apply({executed:moduleObj.extension==="js",contentType:"",content:null},moduleObj));m.loaded=true;},this);},load:function(modList){var opt,modules=Ext.isArray(modList)?modList:Array.prototype.slice.call(arguments,0);if(this.isBusy){this.loadStack.push(modules);return true;}this.purgeListeners();this.isBusy=true;var result=true,keepItUp=true,StopIter="StopIteration",defOptions=Ext.apply({async:this.asynchronous,headers:this.headers||false,modulePath:this.modulePath,forced:false,cacheResponses:this.cacheResponses,method:(this.noExecute||this.cacheResponses?"GET":this.method||"GET").toUpperCase(),noExecute:this.noExecute||false,callback:null,scope:null,params:null}),options=null,executed=[],loaded=[],params=null,data=null,doCallBacks=function(o,success,currModule,args){var cb;if(currModule){var res=this.fireEvent.apply(this,[(success?"load":"loadexception"),this,currModule].concat(args||[]));if(!success){keepItUp=res;}}if(cb=o.callback){cb.apply(o.scope||this,[success,currModule,loaded,executed]);}nextModule();}.createDelegate(this),success=function(response){var module=response.argument.module,opt=response.argument.options,moduleName=module.name,executable=(module.extension=="js"&&!opt.noExecute&&opt.method!=="DOM"),cbArgs=null;try{module.contentType=response.getResponseHeader?response.getResponseHeader["Content-Type"]||"":"";module.content=opt.cacheResponses?response.responseText||null:null;if(this.fireEvent("beforeload",this,module,response,response.responseText)!==false){this.currentModule=moduleName;if(!opt.single){this.modules[moduleName]=module;}module.loaded=true;module.pending=false;loaded.push(module);var exception=executable&&(!module.executed||opt.forced)?this.globalEval(response.responseText,opt.target):true;if(exception===true){if(executable){module.executed=true;executed.push(module);}cbArgs=[response,response.responseText,module.executed];}else{throw Ext.applyIf({fileName:module.url,lineNumber:exception.lineNumber||0},exception);}}}catch(exl){cbArgs=[{error:(this.lastError=exl),httpStatus:response.status,httpStatusText:response.statusText}];result=false;}doCallBacks(opt,result,module,cbArgs);}.createDelegate(this),failure=function(response){var module=response.argument.module,opt=response.argument.options;module.contentType=response.getResponseHeader?response.getResponseHeader["Content-Type"]||"":"";result=module.pending=false;doCallBacks(opt,result,module,[{error:(this.lastError=response.fullStatus.error),httpStatus:response.status,httpStatusText:response.statusText}]);}.createDelegate(this),nextModule=function(){var module,moduleList;while(keepItUp&&(module=modules.shift())){if(typeof module=="function"){module.call(this,result,null,loaded);arguments.callee.defer(1,this);return ;}options=Ext.apply(options||defOptions,(typeof module=="object"?module:{module:module}));if(options.listeners){this.on(options.listeners);}params=data=null;if(params=options.params){if(typeof params=="function"){params=params.call(options.scope||window,options);}if(typeof params=="object"){params=Ext.urlEncode(params);}options.params=data=params;}module=options.module;if(module){if(Ext.isArray(module)&&!!module.length){moduleList=module.map(function(item,index){return Ext.applyIf({module:item,callback:null,listeners:null},options);});moduleList[moduleList.length-1].callback=options.callback;modules.unshift.apply(modules,moduleList);arguments.callee.defer(1,this);return ;}var moduleObj=modulate(module,options),url=moduleObj.url;moduleObj=this.getModule(moduleObj.name)||(this.modules[moduleObj.name]=Ext.apply({loaded:false,executed:false,pending:false,contentType:"",content:null,transport:null},moduleObj));var executable=(moduleObj.extension=="js"&&!options.noExecute);if((!moduleObj.loaded&&!moduleObj.pending)||options.forced){moduleObj.pending=true;if(/get|script|dom|link/i.test(options.method)){url+=(params?"?"+params:"");if(options.disableCaching===true){url+=(params?"&":"?")+"_dc="+(new Date().getTime());}data=null;}options.async=options.method==="DOM"?true:options.async;moduleObj.transport=gather(options.method=="DOM"?(moduleObj.extension=="css"?"LINK":"SCRIPT"):options.method,url,{success:success,failure:failure,scope:this,argument:{module:moduleObj,options:options}},data,options);return ;}else{if(moduleObj.loaded){keepItUp=this.fireEvent("alreadyloaded",this,moduleObj);if(executable){executed.push(moduleObj);}loaded.push(moduleObj);}else{if(moduleObj.pending){modules.unshift(module);arguments.callee.defer(5,this);return ;}}}}}if(modules.length===0&&this.isBusy){this.isBusy=false;this.fireEvent("complete",this,result,loaded,executed);if(!!this.loadStack.length){this.load.defer(1,this,this.loadStack.shift());}}}.createDelegate(this);try{nextModule();}catch(ex){if(ex!=StopIter){throw (this.lastError=ex);}}return result;},globalEval:function(data,scope,context){scope||(scope=window);data=String(data||"").trim();if(data.length===0){return false;}try{if(scope.execScript){scope.execScript(data.replace(/^<!--/,"").replace(/-->$/,""));}else{eval.call(scope,data,context||null);}return true;}catch(ex){return ex;}},styleAdjust:null,applyStyle:function(module,styleRules,target){module||(module={});var doc=(target||window).document;var ct=(styleRules||module.content||"")+"";var head;if(doc&&!!ct.length&&(head=doc.getElementsByTagName("head")[0])){if(this.styleAdjust&&this.styleAdjust.pattern){ct=ct.replace(this.styleAdjust.pattern,this.styleAdjust.replacement||"");}var rules=module.element=doc.createElement("style");rules.setAttribute("type","text/css");if(Ext.isIE){head.appendChild(rules);rules.styleSheet.cssText=ct;}else{try{rules.appendChild(doc.createTextNode(ct));}catch(e){rules.cssText=ct;}head.appendChild(rules);}}return rules;},removeStyle:function(module){var el;if(module&&(el=module.element)){el.dom?el.removeAllListeners().remove():Ext.removeNode(el);}}});}})();(function(){Ext.stopIteration={stopIter:true};Ext.applyIf(Array.prototype,{map:function(B,E){var A=this.length;if(typeof B!="function"){throw new TypeError();}var D=new Array(A);for(var C=0;C<A;C++){if(C in this){D[C]=B.call(E||this,this[C],C,this);}}return D;},forEach:function(D,B){if(typeof D!="function"){throw new TypeError();}var A=0,C=this.length;while(A<C){D.call(B||null,this[A],A++,this);}},include:function(C){if(typeof this.indexOf=="function"){return this.indexOf(C)!=-1;}var B=false;try{this.forEach(function(E,D){if(B=(E==C)){throw Ext.stopIteration;}});}catch(A){if(A!=Ext.stopIteration){throw A;}}return B;},filter:function(C,B){var A=[];this.forEach(function(E,D){if(C.call(B,E,D)){A.push(E);}});return A;},compact:function(B){var A=[];this.forEach(function(C){(C===null||C===undefined)||A.push(B&&Ext.isArray(C)?C.compact():C);},this);return A;},flatten:function(){var A=[];this.forEach(function(B){Ext.isArray(B)?(A=A.concat(B)):A.push(B);},this);return A;},unique:function(B){var A=[];this.forEach(function(D,C){if(0==C||(B?A.last()!=D:!A.include(D))){A.push(D);}},this);return A;},grep:function(E,D,C){var A=[];D||(D=function(F){return F;});var B=C?D.createDelegate(C):D;if(typeof E=="string"){E=new RegExp(E);}this.forEach(function(G,F){if(E.test(G)){A.push(B(G,F));}});return A;},first:function(){return this[0];},last:function(){return this[this.length-1];},clone:function(){return[].concat(this);},clear:function(){this.length=0;}});Ext.applyIf(Function.prototype,{forEach:function(A,E,C){if(typeof E!="function"){throw new TypeError();}for(var B in A){if(typeof this.prototype[B]=="undefined"){try{E.call(C||null,A[B],B,A);}catch(D){}}}}});Ext.applyIf(String.prototype,{forEach:function(D,B){if(typeof D!="function"){throw new TypeError();}var C=this.toString();B=B||this;var A=C.split("")||[];A.forEach(function(F,E){try{D.apply(B,[F,E,C]);}catch(G){}},A);},trim:function(){var A=/^\s+|\s+$/g;return function(){return this.replace(A,"");};}()});window.forEach=function(A,D,B){B=B||A;if(A){if(typeof D!="function"){throw new TypeError();}var C=Object;if(A instanceof Function){C=Function;}else{if(A.forEach instanceof Function){A.forEach(D,B);return ;}}return C.forEach(A,D,B);}};})();